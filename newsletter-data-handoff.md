# Specification: Newsletter Data Handoff

**Purpose:** Define the JSON schema and asset requirements for the "Blackbox Decoded" experience. The newsletter repository will generate this manifest to dynamically drive the website content.

## 1. Deliverable: `decoded_manifest.json`

The website expects a single JSON file containing an ordered array of sections.

```json
{
  "meta": {
    "year": "2025",
    "theme_color": "#FF6B35",
    "last_updated": "2025-12-31T23:59:59Z"
  },
  "sections": [
    // Array of Section Objects (defined below)
  ]
}
```

## 2. Section Schemas

The frontend will render sections based on the `type` property.

### A. Intro Section (`type: "intro"`)
Standard opening title card.
```json
{
  "type": "intro",
  "id": "cover",
  "title": "DECODED",
  "subtitle": "2025",
  "description": "Scroll right to explore the year in data."
}
```

### B. Animated Charts (`type: "chart"`)
**Strategy:** Provide raw data points. The website's React components handle the animation (drawing lines, growing bars) to ensure high performance and style consistency.

#### 1. Area/Bar Chart (Library Growth)
```json
{
  "type": "chart",
  "id": "library-growth",
  "title": "Library Expansion",
  "chart_type": "area", // or "bar"
  "config": {
    "data_key": "value",      // Key for Y-axis (e.g., total count)
    "xaxis_key": "date",      // Key for X-axis (e.g., month name)
    "color": "#FF6B35",
    "unit": "movies"
  },
  "data": [
    { "date": "Jan", "value": 120 },
    { "date": "Feb", "value": 145 }
  ]
}
```

#### 2. Weekly Usage Heatmap (Activity Pattern)
*Concept:* A grid visualization (7 days x 24 hours) where intensity is animated (e.g., bubbles popping in).
```json
{
  "type": "chart",
  "id": "weekly-pattern",
  "title": "The Pulse of the System",
  "chart_type": "heatmap",
  "config": {
    "color": "#00FF00"
  },
  "data": [
    // Flattened array of all active hour slots
    { "day": "Mon", "hour": 0, "value": 15 },
    { "day": "Mon", "hour": 14, "value": 85 },
    { "day": "Tue", "hour": 20, "value": 100 }
  ]
}
```

### C. Awards Section (`type: "awards"`)
Horizontal scrolling list of specific highlights.
```json
{
  "type": "awards",
  "id": "top-picks",
  "items": [
    {
      "category": "Most Watched",
      "title": "Dune: Part Two",
      "description": "Dominated screen time.",
      "image_asset_name": "dune-poster.jpg" // See Asset Requirements
    }
  ]
}
```

### D. Custom HTML/Text (`type: "text"`)
For editorial content generated by the newsletter. **Note:** Do not use this for charts. Use this for written narrative, lists, or simple static tables.
```json
{
  "type": "text",
  "id": "editor-note",
  "title": "A Note from the Void",
  "content_html": "<p>This year was defined by <strong>resilience</strong>...</p>",
  "background_style": "minimal" // 'minimal' | 'gradient' | 'noise'
}
```

## 3. Asset Requirements (Manual Upload)

**Location:** `public/decoded/assets/{year}/`

1.  **Naming Convention:** Must match the `image_asset_name` in the JSON exactly.
    *   Format: `kebab-case.jpg` (e.g., `dune-poster.jpg`).
2.  **Dimensions:**
    *   **Posters (Vertical):** 2:3 Aspect Ratio (Rec: 800x1200px).
    *   **Backdrops (Horizontal):** 16:9 Aspect Ratio (Rec: 1920x1080px).
3.  **Optimization:**
    *   Format: WEBP or JPG (85% quality).
    *   Max Size: < 200KB per image recommended.

## 4. Integration Workflow

1.  **Generate:** Newsletter repo runs analysis and outputs `decoded_manifest.json` with calculated data points.
2.  **Asset Prep:** Collect and rename images to `public/decoded/assets/2025/`.
3.  **Commit:** Push JSON and Assets to `badalien.works` repo.
4.  **Build:** Vercel auto-deploys, enabling the interactive animations.
